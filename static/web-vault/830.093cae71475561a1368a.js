"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[830],{46449:(t,i,n)=>{n.d(i,{OrganizationSettingsModule:()=>qt});var e=n(30675),o=n(98403),r=n(46131),a=n(72932),s=n(25065),c=n(22976),l=n(6056),p=n(67553),u=n(77259),d=n(95661),m=n(99733),b=n(51757),g=n(66046),h=n(72245),f=n(44500),I=n(3204),v=n(88565),y=n(33338),w=n(93695),F=n(84079),S=n(14803);class R{}var k=n(56953),$=n(3633),T=n(78781),M=n(22848),z=n(50342),E=n(84431),A=n(71901),G=n(33812),j=n(74208),C=n(50700),D=n(23649),X=n(37115),x=n(35500),B=n(11224),U=n(21274),N=n(69855),V=n(77468),K=n(3892),O=n(26657),Y=n(45154),J=n(57144),P=n(56898),L=n(50352),_=n(10672),H=n(90246),q=n(86226),Q=n(97553),W=n(43759),Z=n(57178),tt=n(58806),it=n(93748),nt=n(88016),et=function(t,i,n,e){return new(n||(n=Promise))(function(o,r){function a(t){try{c(e.next(t))}catch(i){r(i)}}function s(t){try{c(e.throw(t))}catch(i){r(i)}}function c(t){var i;t.done?o(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(a,s)}c((e=e.apply(t,i||[])).next())})};function ot(t,i){1&t&&(G.j41(0,"div"),G.nrm(1,"i",4),G.nI1(2,"i18n"),G.j41(3,"span",5),G.EFF(4),G.nI1(5,"i18n"),G.k0s()()),2&t&&(G.R7$(),G.Y8G("title",G.mNQ(G.bMT(2,3,"loading"))),G.R7$(3),G.JRh(G.bMT(5,5,"loading")))}function rt(t,i){if(1&t&&(G.j41(0,"form",6)(1,"div",7)(2,"div")(3,"bit-form-field")(4,"bit-label"),G.EFF(5),G.nI1(6,"i18n"),G.k0s(),G.nrm(7,"input",8),G.k0s(),G.j41(8,"bit-form-field")(9,"bit-label"),G.EFF(10),G.nI1(11,"i18n"),G.k0s(),G.nrm(12,"input",9),G.k0s()(),G.j41(13,"div"),G.nrm(14,"bit-avatar",10)(15,"app-account-fingerprint",11),G.nI1(16,"i18n"),G.k0s()(),G.j41(17,"button",12),G.EFF(18),G.nI1(19,"i18n"),G.k0s()()),2&t){const t=G.XpG();G.Y8G("bitSubmit",t.submit)("formGroup",t.formGroup),G.R7$(5),G.JRh(G.bMT(6,11,"organizationName")),G.R7$(5),G.JRh(G.bMT(11,13,"email")),G.R7$(4),G.Y8G("text",t.org.name)("id",t.org.id),G.R7$(),G.Y8G("fingerprintLabel",G.mNQ(G.bMT(16,15,"yourOrganizationsFingerprint")))("fingerprintMaterial",t.organizationId)("publicKeyBuffer",t.publicKeyBuffer),G.R7$(3),G.SpI(" ",G.bMT(19,17,"save")," ")}}function at(t,i){if(1&t){const t=G.RV6();G.qex(0),G.j41(1,"h1",13),G.EFF(2),G.nI1(3,"i18n"),G.k0s(),G.j41(4,"p",14),G.EFF(5),G.nI1(6,"i18n"),G.j41(7,"a",15),G.EFF(8),G.nI1(9,"i18n"),G.k0s()(),G.j41(10,"div",16)(11,"button",17),G.bIt("click",function(){j.eBV(t);const i=G.XpG();return j.Njj(i.viewApiKey())}),G.EFF(12),G.nI1(13,"i18n"),G.k0s(),G.j41(14,"button",17),G.bIt("click",function(){j.eBV(t);const i=G.XpG();return j.Njj(i.rotateApiKey())}),G.EFF(15),G.nI1(16,"i18n"),G.k0s()(),G.bVm()}2&t&&(G.R7$(2),G.JRh(G.bMT(3,5,"apiKey")),G.R7$(3),G.SpI(" ",G.bMT(6,7,"apiKeyDesc")," "),G.R7$(3),G.SpI(" ",G.bMT(9,9,"learnMoreAboutApi")," "),G.R7$(4),G.SpI(" ",G.bMT(13,11,"viewApiKey")," "),G.R7$(3),G.SpI(" ",G.bMT(16,13,"rotateApiKey")," "))}function st(t,i){if(1&t&&(G.j41(0,"form",6)(1,"h1",13),G.EFF(2),G.nI1(3,"i18n"),G.k0s(),G.j41(4,"p",14),G.EFF(5),G.nI1(6,"i18n"),G.k0s(),G.j41(7,"bit-form-control")(8,"bit-label"),G.EFF(9),G.nI1(10,"i18n"),G.k0s(),G.nrm(11,"input",18),G.k0s(),G.j41(12,"bit-form-control")(13,"bit-label"),G.EFF(14),G.nI1(15,"i18n"),G.k0s(),G.nrm(16,"input",19),G.k0s(),G.j41(17,"bit-form-control")(18,"bit-label"),G.EFF(19),G.nI1(20,"i18n"),G.k0s(),G.nrm(21,"input",20),G.k0s(),G.j41(22,"bit-form-control")(23,"bit-label"),G.EFF(24),G.nI1(25,"i18n"),G.j41(26,"span",21),G.EFF(27),G.nI1(28,"i18n"),G.k0s(),G.EFF(29),G.nI1(30,"i18n"),G.k0s(),G.nrm(31,"input",22),G.k0s(),G.j41(32,"button",23),G.EFF(33),G.nI1(34,"i18n"),G.k0s()()),2&t){const t=G.XpG();G.Y8G("bitSubmit",t.submitCollectionManagement)("formGroup",t.collectionManagementFormGroup),G.R7$(2),G.JRh(G.bMT(3,11,"collectionManagement")),G.R7$(3),G.JRh(G.bMT(6,13,"collectionManagementDescription")),G.R7$(4),G.JRh(G.bMT(10,15,"allowAdminAccessToAllCollectionItemsDescription")),G.R7$(5),G.JRh(G.bMT(15,17,"restrictCollectionCreationDescription")),G.R7$(5),G.JRh(G.bMT(20,19,"restrictCollectionDeletionDescription")),G.R7$(5),G.SpI(" ",G.bMT(25,21,"restrictItemDeletionDescriptionStart")," "),G.R7$(3),G.JRh(G.bMT(28,23,"manageCollection")),G.R7$(2),G.SpI(" ",G.bMT(30,25,"restrictItemDeletionDescriptionEnd")," "),G.R7$(4),G.SpI(" ",G.bMT(34,27,"save")," ")}}class ct{constructor(t,i,n,e,o,r,a,s,c,l,p){this.i18nService=t,this.route=i,this.platformUtilsService=n,this.keyService=e,this.router=o,this.accountService=r,this.organizationService=a,this.organizationApiService=s,this.dialogService=c,this.formBuilder=l,this.toastService=p,this.selfHosted=!1,this.canEditSubscription=!0,this.loading=!0,this.canUseApi=!1,this.formGroup=this.formBuilder.group({orgName:this.formBuilder.control({value:"",disabled:!0},{validators:[b.k0.required,b.k0.maxLength(50)],updateOn:"change"}),billingEmail:this.formBuilder.control({value:"",disabled:!0},{validators:[b.k0.required,b.k0.email,b.k0.maxLength(256)]})}),this.collectionManagementFormGroup=this.formBuilder.group({limitCollectionCreation:this.formBuilder.control({value:!1,disabled:!1}),limitCollectionDeletion:this.formBuilder.control({value:!1,disabled:!1}),limitItemDeletion:this.formBuilder.control({value:!1,disabled:!1}),allowAdminAccessToAllCollectionItems:this.formBuilder.control({value:!1,disabled:!1})}),this.destroy$=new g.B,this.submit=()=>et(this,void 0,void 0,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const t={name:this.formGroup.value.orgName,billingEmail:this.formGroup.value.billingEmail};if(!this.org.hasPublicAndPrivateKeys){const i=yield(0,h._)(this.accountService.activeAccount$.pipe($.F6,(0,f.n)(t=>this.keyService.orgKeys$(t)),(0,I.T)(t=>{var i;return null!==(i=t[this.organizationId])&&void 0!==i?i:null}))),n=yield this.keyService.makeKeyPair(i);t.keys=new k.B(n[0],n[1].encryptedString)}yield this.organizationApiService.save(this.organizationId,t),this.toastService.showToast({variant:"success",title:null,message:this.i18nService.t("organizationUpdated")})}),this.submitCollectionManagement=()=>et(this,void 0,void 0,function*(){const t=new R;t.limitCollectionCreation=this.collectionManagementFormGroup.value.limitCollectionCreation,t.limitCollectionDeletion=this.collectionManagementFormGroup.value.limitCollectionDeletion,t.allowAdminAccessToAllCollectionItems=this.collectionManagementFormGroup.value.allowAdminAccessToAllCollectionItems,t.limitItemDeletion=this.collectionManagementFormGroup.value.limitItemDeletion,yield this.organizationApiService.updateCollectionManagement(this.organizationId,t),this.toastService.showToast({variant:"success",title:null,message:this.i18nService.t("updatedCollectionManagement")})}),this.purgeVault=()=>et(this,void 0,void 0,function*(){const t=E.d.open(this.dialogService,{data:{organizationId:this.organizationId}});yield(0,v.s)(t.closed)})}ngOnInit(){return et(this,void 0,void 0,function*(){this.selfHosted=!1;const t=yield(0,h._)((0,$.F6)(this.accountService.activeAccount$));this.route.params.pipe((0,f.n)(i=>this.organizationService.organizations$(t).pipe((0,p.Sw)(i.organizationId))),(0,f.n)(t=>(0,y.z)([(0,w.of)(t),(0,F.H)(this.organizationApiService.get(t.id)),(0,F.H)(this.organizationApiService.getKeys(t.id))])),(0,S.Q)(this.destroy$)).subscribe(([t,i,n])=>{this.organizationId=t.id,this.canEditSubscription=t.canEditSubscription,this.canUseApi=t.useApi,this.selfHosted||(this.formGroup.get("orgName").enable(),this.canEditSubscription&&this.formGroup.get("billingEmail").enable()),this.org=i,this.publicKeyBuffer=T.A.fromB64ToArray(null==n?void 0:n.publicKey),this.formGroup.patchValue({orgName:this.org.name,billingEmail:this.org.billingEmail}),this.collectionManagementFormGroup.patchValue({limitCollectionCreation:this.org.limitCollectionCreation,limitCollectionDeletion:this.org.limitCollectionDeletion,limitItemDeletion:this.org.limitItemDeletion,allowAdminAccessToAllCollectionItems:this.org.allowAdminAccessToAllCollectionItems}),this.loading=!1})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}deleteOrganization(){return et(this,void 0,void 0,function*(){const t=(0,A.f$)(this.dialogService,{data:{organizationId:this.organizationId,requestType:"RegularDelete"}});(yield(0,v.s)(t.closed))===A.ay.Deleted&&this.router.navigate(["/"])})}viewApiKey(){return et(this,void 0,void 0,function*(){yield z.V.open(this.dialogService,{data:{keyType:"organization",entityId:this.organizationId,postKey:this.organizationApiService.getOrCreateApiKey.bind(this.organizationApiService),scope:"api.organization",grantType:"client_credentials",apiKeyTitle:"apiKey",apiKeyWarning:"apiKeyWarning",apiKeyDescription:"apiKeyDesc"}})})}rotateApiKey(){return et(this,void 0,void 0,function*(){yield z.V.open(this.dialogService,{data:{keyType:"organization",isRotation:!0,entityId:this.organizationId,postKey:this.organizationApiService.rotateApiKey.bind(this.organizationApiService),scope:"api.organization",grantType:"client_credentials",apiKeyTitle:"apiKey",apiKeyWarning:"apiKeyWarning",apiKeyDescription:"apiKeyRotateDesc"}})})}}ct.ɵfac=function(t){return new(t||ct)(G.rXU(C.W),G.rXU(D.nX),G.rXU(X.y),G.rXU(M.Lu),G.rXU(D.Ix),G.rXU(x.D),G.rXU(p.PV),G.rXU(B.X),G.rXU(U.o3),G.rXU(b.ok),G.rXU(N.f))},ct.ɵcmp=G.VBU({type:ct,selectors:[["app-org-account"]],standalone:!1,decls:13,vars:11,consts:[[4,"ngIf"],[3,"bitSubmit","formGroup",4,"ngIf"],["type","button","bitButton","","buttonType","danger",3,"click"],["type","button","bitButton","","buttonType","danger",3,"bitAction"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","tw-text-muted",3,"title"],[1,"tw-sr-only"],[3,"bitSubmit","formGroup"],[1,"tw-grid","tw-grid-cols-2","tw-gap-5"],["bitInput","","id","orgName","type","text","formControlName","orgName"],["bitInput","","id","billingEmail","formControlName","billingEmail","type","email"],["size","large",3,"text","id"],[3,"fingerprintMaterial","publicKeyBuffer","fingerprintLabel"],["type","submit","bitButton","","bitFormButton","","buttonType","primary"],["bitTypography","h1",1,"tw-mt-16","tw-pb-2.5"],["bitTypography","body1"],["bitLink","","href","https://docs.bitwarden.com","target","_blank","rel","noreferrer"],[1,"tw-flex","tw-gap-2"],["type","button","bitButton","","buttonType","secondary",3,"click"],["type","checkbox","bitCheckbox","","formControlName","allowAdminAccessToAllCollectionItems"],["type","checkbox","bitCheckbox","","formControlName","limitCollectionCreation"],["type","checkbox","bitCheckbox","","formControlName","limitCollectionDeletion"],[1,"tw-italic"],["type","checkbox","bitCheckbox","","formControlName","limitItemDeletion"],["type","submit","bitButton","","bitFormButton","","buttonType","primary","id","collectionManagementSubmitButton"]],template:function(t,i){1&t&&(G.nrm(0,"app-header"),G.j41(1,"bit-container"),G.DNE(2,ot,6,7,"div",0)(3,rt,20,19,"form",1)(4,at,17,15,"ng-container",0)(5,st,35,29,"form",1),G.j41(6,"app-danger-zone")(7,"button",2),G.bIt("click",function(){return i.deleteOrganization()}),G.EFF(8),G.nI1(9,"i18n"),G.k0s(),G.j41(10,"button",3),G.EFF(11),G.nI1(12,"i18n"),G.k0s()()()),2&t&&(G.R7$(2),G.Y8G("ngIf",i.loading),G.R7$(),G.Y8G("ngIf",i.org&&!i.loading),G.R7$(),G.Y8G("ngIf",i.canUseApi),G.R7$(),G.Y8G("ngIf",i.org&&!i.loading),G.R7$(3),G.SpI(" ",G.bMT(9,7,"deleteOrganization")," "),G.R7$(2),G.Y8G("bitAction",i.purgeVault),G.R7$(),G.SpI(" ",G.bMT(12,9,"purgeVault")," "))},dependencies:[V.bT,b.qT,b.me,b.Zm,b.BC,b.cb,b.j4,b.JD,K.p,O.$,Y.L,J.f,P.Q,L.P,_.H,H.f,q.j,Q.J,W.h,Z.g,tt.r,c.l,r.t,it.f,nt.$],encapsulation:2});var lt=n(73276),pt=n(36359),ut=n(14928),dt=n(71804),mt=n(37380),bt=n(83516),gt=n(33818),ht=n(43600),ft=n(6804),It=n(18499),vt=n(58329),yt=n(1601),wt=n(62166),Ft=n(23327),St=n(44432),Rt=n(37856),kt=n(75556),$t=n(90300),Tt=n(4017),Mt=n(91962),zt=function(t,i,n,e){return new(n||(n=Promise))(function(o,r){function a(t){try{c(e.next(t))}catch(i){r(i)}}function s(t){try{c(e.throw(t))}catch(i){r(i)}}function c(t){var i;t.done?o(t.value):(i=t.value,i instanceof n?i:new n(function(t){t(i)})).then(a,s)}c((e=e.apply(t,i||[])).next())})};const Et=t=>({"mt-5":t});function At(t,i){1&t&&G.nrm(0,"app-header")}function Gt(t,i){1&t&&(G.j41(0,"h1"),G.EFF(1),G.nI1(2,"i18n"),G.k0s()),2&t&&(G.R7$(),G.JRh(G.bMT(2,1,"twoStepLogin")))}function jt(t,i){1&t&&(G.j41(0,"h1"),G.EFF(1),G.nI1(2,"i18n"),G.k0s()),2&t&&(G.R7$(),G.JRh(G.bMT(2,1,"twoStepLoginEnforcement")))}function Ct(t,i){if(1&t&&(G.j41(0,"div",6),G.DNE(1,Gt,3,3,"h1",1)(2,jt,3,3,"h1",1),G.k0s()),2&t){const t=G.XpG();G.R7$(),G.Y8G("ngIf",!t.organizationId||!t.isEnterpriseOrg),G.R7$(),G.Y8G("ngIf",t.organizationId&&t.isEnterpriseOrg)}}function Dt(t,i){1&t&&(G.j41(0,"p"),G.EFF(1),G.nI1(2,"i18n"),G.k0s()),2&t&&(G.R7$(),G.JRh(G.bMT(2,1,"twoStepLoginDesc")))}function Xt(t,i){1&t&&(G.qex(0),G.EFF(1),G.nI1(2,"i18n"),G.j41(3,"a",8),G.EFF(4),G.nI1(5,"i18n"),G.k0s(),G.nrm(6,"br"),G.EFF(7),G.nI1(8,"i18n"),G.nrm(9,"br")(10,"br"),G.j41(11,"p"),G.EFF(12),G.nI1(13,"i18n"),G.k0s(),G.bVm()),2&t&&(G.R7$(),G.SpI(" ",G.bMT(2,4,"twoStepLoginEnterpriseDescStart")," "),G.R7$(3),G.SpI("",G.bMT(5,6,"twoStepLoginPolicy"),"."),G.R7$(3),G.SpI(" ",G.bMT(8,8,"twoStepLoginOrganizationDuoDesc")," "),G.R7$(5),G.JRh(G.bMT(13,10,"twoStepLoginOrganizationSsoDesc")))}function xt(t,i){1&t&&(G.EFF(0),G.nI1(1,"i18n"),G.nrm(2,"br"),G.EFF(3),G.nI1(4,"i18n")),2&t&&(G.SpI(" ",G.bMT(1,2,"twoStepLoginTeamsDesc")," "),G.R7$(3),G.SpI(" ",G.bMT(4,4,"twoStepLoginOrganizationDuoDesc")," "))}function Bt(t,i){if(1&t&&(G.qex(0),G.j41(1,"p"),G.DNE(2,Xt,14,12,"ng-container",7)(3,xt,5,6,"ng-template",null,0,G.C5r),G.k0s(),G.bVm()),2&t){const t=G.sdS(4),i=G.XpG();G.R7$(2),G.Y8G("ngIf",i.isEnterpriseOrg)("ngIfElse",t)}}function Ut(t,i){if(1&t){const t=G.RV6();G.j41(0,"bit-callout",9)(1,"p"),G.EFF(2),G.k0s(),G.j41(3,"button",10),G.bIt("click",function(){j.eBV(t);const i=G.XpG();return j.Njj(i.recoveryCode())}),G.EFF(4),G.nI1(5,"i18n"),G.k0s()()}if(2&t){const t=G.XpG();G.R7$(2),G.JRh(t.recoveryCodeWarningMessage),G.R7$(2),G.SpI(" ",G.bMT(5,2,"viewRecoveryCode")," ")}}function Nt(t,i){1&t&&(G.j41(0,"small"),G.nrm(1,"i",11),G.nI1(2,"i18n"),G.j41(3,"span",12),G.EFF(4),G.nI1(5,"i18n"),G.k0s()()),2&t&&(G.R7$(),G.Y8G("title",G.mNQ(G.bMT(2,3,"loading"))),G.R7$(3),G.JRh(G.bMT(5,5,"loading")))}function Vt(t,i){1&t&&(G.j41(0,"bit-callout",9),G.EFF(1),G.nI1(2,"i18n"),G.k0s()),2&t&&(G.R7$(),G.SpI(" ",G.bMT(2,1,"twoStepLoginPolicyUserWarning")," "))}function Kt(t,i){1&t&&(G.qex(0),G.nrm(1,"i",23),G.nI1(2,"i18n"),G.j41(3,"span",12),G.EFF(4),G.nI1(5,"i18n"),G.k0s(),G.bVm()),2&t&&(G.R7$(),G.Y8G("title",G.mNQ(G.bMT(2,3,"enabled"))),G.R7$(3),G.JRh(G.bMT(5,5,"enabled")))}function Ot(t,i){1&t&&G.nrm(0,"app-premium-badge",24)}function Yt(t,i){if(1&t){const t=G.RV6();G.j41(0,"button",25),G.bIt("click",function(){j.eBV(t);const i=G.XpG().$implicit,n=G.XpG();return j.Njj(n.disablePremium2faTypeForNonPremiumUser(i.type))}),G.EFF(1),G.nI1(2,"i18n"),G.k0s()}2&t&&(G.R7$(),G.SpI(" ",G.bMT(2,1,"disable")," "))}function Jt(t,i){if(1&t){const t=G.RV6();G.j41(0,"button",26),G.nI1(1,"async"),G.bIt("click",function(){j.eBV(t);const i=G.XpG().$implicit,n=G.XpG();return j.Njj(n.manage(i.type))}),G.EFF(2),G.nI1(3,"i18n"),G.k0s()}if(2&t){const t=G.XpG().$implicit,i=G.XpG();G.Y8G("disabled",!G.bMT(1,2,i.canAccessPremium$)&&t.premium),G.R7$(2),G.SpI(" ",G.bMT(3,4,"manage")," ")}}function Pt(t,i){if(1&t&&(G.j41(0,"bit-item")(1,"div",13),G.nrm(2,"auth-two-factor-icon",14),G.k0s(),G.j41(3,"div",15)(4,"h3",16)(5,"div",17),G.EFF(6),G.k0s(),G.DNE(7,Kt,6,7,"ng-container",1)(8,Ot,1,0,"app-premium-badge",18),G.k0s(),G.j41(9,"div",19),G.EFF(10),G.k0s()(),G.j41(11,"bit-item-action",20),G.nVh(12,Yt,3,3,"button",21),G.nI1(13,"async"),G.vZN(14,Jt,4,6,"button",22),G.k0s()()),2&t){const t=i.$implicit,n=G.XpG();G.HbH(G.VkB("tw-py-4 providers-2fa-",t.type)),G.R7$(2),G.Y8G("provider",t.type)("name",t.name),G.R7$(3),G.Aen(t.enabled||t.premium?"display:inline-block":""),G.R7$(),G.SpI(" ",t.name," "),G.R7$(),G.Y8G("ngIf",t.enabled),G.R7$(),G.Y8G("ngIf",t.premium),G.R7$(2),G.JRh(t.description),G.R7$(2),G.vxM(t.premium&&t.enabled&&!G.bMT(13,12,n.canAccessPremium$)?12:14)}}class Lt extends ht.q{constructor(t,i,n,e,o,r,a,s,c,l,p,u){super(t,i,n,e,a,s,c,l,p,u),this.route=o,this.organizationService=r,this.accountService=s,this.userVerificationService=p,this.toastService=u,this.tabbedHeader=!1}ngOnInit(){const t=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return zt(this,void 0,void 0,function*(){const i=yield(0,h._)((0,$.F6)(this.accountService.activeAccount$));this.route.params.pipe((0,lt.H)(t=>this.organizationService.organizations$(i).pipe((0,p.Sw)(t.organizationId)).pipe((0,I.T)(i=>({params:t,organization:i})))),(0,pt.M)(t=>zt(this,void 0,void 0,function*(){this.organizationId=t.params.organizationId,this.organization=t.organization})),(0,lt.H)(()=>zt(this,void 0,void 0,function*(){return yield t.ngOnInit.call(this)})),(0,S.Q)(this.destroy$)).subscribe()})}manage(t){return zt(this,void 0,void 0,function*(){var i;switch(null===(i=this.twoFactorSetupSubscription)||void 0===i||i.unsubscribe(),t){case dt.R.OrganizationDuo:{const i=ft.S.open(this.dialogService,{data:{type:t,organizationId:this.organizationId}}),n=yield(0,v.s)(i.closed);if(!n)return;const e=gt.U.open(this.dialogService,{data:{authResponse:n,organizationId:this.organizationId}});this.twoFactorSetupSubscription=e.componentInstance.onChangeStatus.pipe((0,ut.$)(),(0,S.Q)(this.destroy$)).subscribe(t=>{e.close(),this.updateStatus(t,dt.R.OrganizationDuo)});break}}})}getTwoFactorProviders(){return this.twoFactorService.getTwoFactorOrganizationProviders(this.organizationId)}filterProvider(t){return t!==dt.R.OrganizationDuo}}Lt.ɵfac=function(t){return new(t||Lt)(G.rXU(U.o3),G.rXU(mt.fz),G.rXU(bt.U),G.rXU(It.m),G.rXU(D.nX),G.rXU(p.PV),G.rXU(vt.Q),G.rXU(x.D),G.rXU(yt.w),G.rXU(C.W),G.rXU(wt.i),G.rXU(N.f))},Lt.ɵcmp=G.VBU({type:Lt,selectors:[["app-two-factor-setup"]],standalone:!1,features:[G.Vt3],decls:14,vars:17,consts:[["teamsDescription",""],[4,"ngIf"],["class","tw-mt-6 tw-mb-2 tw-pb-2.5",4,"ngIf"],["type","warning",4,"ngIf"],[3,"ngClass"],[3,"class",4,"ngFor","ngForOf"],[1,"tw-mt-6","tw-mb-2","tw-pb-2.5"],[4,"ngIf","ngIfElse"],["bitLink","","routerLink","../policies"],["type","warning"],["type","button","bitButton","","buttonType","secondary",3,"click"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","bwi-fw","tw-text-muted",3,"title"],[1,"tw-sr-only"],["slot","start",1,"tw-min-w-[120px]","tw-flex","tw-justify-center"],[1,"tw-flex","tw-items-center",3,"provider","name"],["bit-item-content","",1,"tw-px-4"],[1,"tw-mb-0"],[1,"tw-font-medium","tw-text-base"],["class","tw-ml-2",4,"ngIf"],[1,"tw-mt-2","tw-text-wrap"],["slot","end"],["type","button","bitButton","","buttonType","danger"],["type","button","bitButton","","buttonType","secondary",3,"disabled"],["aria-hidden","true",1,"bwi","bwi-check","tw-text-success-600","bwi-fw","tw-ml-2",3,"title"],[1,"tw-ml-2"],["type","button","bitButton","","buttonType","danger",3,"click"],["type","button","bitButton","","buttonType","secondary",3,"click","disabled"]],template:function(t,i){1&t&&(G.DNE(0,At,1,0,"app-header",1),G.j41(1,"bit-container"),G.DNE(2,Ct,3,2,"div",2)(3,Dt,3,3,"p",1)(4,Bt,5,2,"ng-container",1)(5,Ut,6,4,"bit-callout",3),G.j41(6,"h2",4),G.EFF(7),G.nI1(8,"i18n"),G.DNE(9,Nt,6,7,"small",1),G.k0s(),G.DNE(10,Vt,3,3,"bit-callout",3),G.j41(11,"bit-item-group"),G.nI1(12,"i18n"),G.DNE(13,Pt,15,14,"bit-item",5),G.k0s()()),2&t&&(G.Y8G("ngIf",null!=i.organizationId),G.R7$(2),G.Y8G("ngIf",null==i.organizationId),G.R7$(),G.Y8G("ngIf",!i.organizationId),G.R7$(),G.Y8G("ngIf",i.organizationId),G.R7$(),G.Y8G("ngIf",!i.organizationId),G.R7$(),G.Y8G("ngClass",G.eq3(15,Et,!i.organizationId)),G.R7$(),G.SpI(" ",G.bMT(8,11,"providers")," "),G.R7$(2),G.Y8G("ngIf",i.loading),G.R7$(),G.Y8G("ngIf",i.showPolicyWarning),G.R7$(),G.BMQ("aria-label",G.bMT(12,13,"providers")),G.R7$(2),G.Y8G("ngForOf",i.providers))},dependencies:[V.YU,V.Sq,V.bT,l.Wk,Ft.U,P.Q,St.G,_.H,Z.g,it.f,Rt.a,kt.J,$t.g,Tt.D,Mt._,V.Jj,nt.$],encapsulation:2});const _t=[{path:"",canActivate:[(0,u.V)(p.Dl)],children:[{path:"",pathMatch:"full",canActivate:[(0,d.r)(function(t){if(t.isOwner)return"account";if(t.canManagePolicies)return"policies";if(t.canAccessImport)return["tools","import"];if(t.canManageSso)return"sso";if(t.canManageScim)return"scim";if(t.canManageDeviceApprovals)return"device-approvals";return"/"})],children:[]},{path:"account",component:ct,canActivate:[(0,u.V)(t=>t.isOwner)],data:{titleId:"organizationInfo"}},{path:"two-factor",component:Lt,canActivate:[(0,u.V)(t=>t.use2fa&&t.isOwner)],data:{titleId:"twoStepLogin"}},{path:"policies",component:m.sU,canActivate:[(0,u.V)(t=>t.canManagePolicies)],data:{titleId:"policies"}},{path:"tools",children:[{path:"import",loadComponent:()=>n.e(922).then(n.bind(n,6922)).then(t=>t.OrgImportComponent),canActivate:[(0,u.V)(t=>t.canAccessImport)],data:{titleId:"importNoun"}},{path:"export",loadComponent:()=>Promise.all([n.e(573),n.e(712)]).then(n.bind(n,21712)).then(t=>t.OrganizationVaultExportComponent),canActivate:[(0,u.V)(t=>t.canAccessExport)],data:{titleId:"exportNoun"}}]}]}];class Ht{}Ht.ɵfac=function(t){return new(t||Ht)},Ht.ɵmod=G.$C({type:Ht}),Ht.ɵinj=j.G2t({imports:[l.iI.forChild(_t),l.iI]});class qt{}qt.ɵfac=function(t){return new(t||qt)},qt.ɵmod=G.$C({type:qt}),qt.ɵinj=j.G2t({imports:[s.G,Ht,c.l,r.t,a.G,e.a,o.k]})}}]);
//# sourceMappingURL=830.093cae71475561a1368a.js.map