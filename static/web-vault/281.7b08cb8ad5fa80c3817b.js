"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[281],{13583:(t,e,i)=>{i.d(e,{m:()=>T});var n=i(33812),o=i(51757),s=i(88083),a=i(33438),r=i(74208),c=i(12012),l=i(50700),u=i(37115),p=i(11224),d=i(69855),b=i(77468),h=i(3892),m=i(26657),f=i(45154),g=i(56898),v=i(86226),F=i(93199),I=i(97553),y=i(43759),S=i(88016),R=function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function a(t){try{c(n.next(t))}catch(e){s(e)}}function r(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,r)}c((n=n.apply(t,e||[])).next())})};function k(t,e){1&t&&(n.j41(0,"bit-label"),n.EFF(1),n.nI1(2,"i18n"),n.k0s()),2&t&&(n.R7$(),n.JRh(n.bMT(2,1,"licenseFile")))}function w(t,e){if(1&t&&(n.j41(0,"button",9),n.EFF(1),n.nI1(2,"i18n"),n.k0s()),2&t){const t=n.XpG();n.Y8G("bitAction",t.cancel),n.R7$(),n.SpI(" ",n.bMT(2,2,"cancel")," ")}}class T{constructor(t,e,i,o,s,r){this.apiService=t,this.i18nService=e,this.platformUtilsService=i,this.organizationApiService=o,this.formBuilder=s,this.toastService=r,this.showCancel=!0,this.onUpdated=new n.bkB,this.onCanceled=new n.bkB,this.title=this.i18nService.t("updateLicense"),this.updateLicenseForm=this.formBuilder.group({file:[null]}),this.licenseFile=null,this.submit=()=>R(this,void 0,void 0,function*(){if(this.updateLicenseForm.markAllAsTouched(),this.updateLicenseForm.invalid)return;const t=this.licenseFile;if(null==t)return void this.toastService.showToast({variant:"error",title:this.i18nService.t("errorOccurred"),message:this.i18nService.t("selectFile")});const e=new FormData;e.append("license",t);let i=null;return i=null==this.organizationId?this.apiService.postAccountLicense(e):this.organizationApiService.updateLicense(this.organizationId,e),this.formPromise=i.then(()=>this.apiService.refreshIdentityToken()),yield this.formPromise,this.toastService.showToast({variant:"success",title:null,message:this.i18nService.t("licenseUploadSuccess")}),this.onUpdated.emit(),new Promise(t=>t(a.Y.Updated))}),this.cancel=()=>{this.onCanceled.emit()}}ngOnInit(){return R(this,void 0,void 0,function*(){(yield this.organizationApiService.get(this.organizationId)).plan.productTier!==s.K_.Families&&(this.updateLicenseForm.setValidators([o.k0.required]),this.updateLicenseForm.updateValueAndValidity())})}setSelectedFile(t){const e=t.target,i=e.files.length>0?e.files[0]:null;this.licenseFile=i}}T.ɵfac=function(t){return new(t||T)(n.rXU(c.G),n.rXU(l.W),n.rXU(u.y),n.rXU(p.X),n.rXU(o.ok),n.rXU(d.f))},T.ɵcmp=n.VBU({type:T,selectors:[["app-update-license"]],inputs:{organizationId:"organizationId",showCancel:"showCancel",showAutomaticSyncAndManualUpload:"showAutomaticSyncAndManualUpload"},outputs:{onUpdated:"onUpdated",onCanceled:"onCanceled"},standalone:!1,decls:20,vars:17,consts:[["fileSelector",""],[3,"formGroup","bitSubmit"],[4,"ngIf"],[1,"tw-pb-1","tw-pt-2","tw-flex","tw-items-center","tw-gap-3"],["bitButton","","type","button","buttonType","secondary",3,"click"],["bitInput","","type","file","formControlName","file","hidden","",1,"tw-hidden",3,"change"],[1,"tw-flex","tw-gap-2","tw-mt-4"],["type","submit","buttonType","primary","bitButton","","bitFormButton",""],["bitButton","","bitFormButton","","buttonType","secondary","type","button",3,"bitAction",4,"ngIf"],["bitButton","","bitFormButton","","buttonType","secondary","type","button",3,"bitAction"]],template:function(t,e){if(1&t){const t=n.RV6();n.j41(0,"form",1)(1,"bit-form-field"),n.DNE(2,k,3,3,"bit-label",2),n.j41(3,"div",3)(4,"button",4),n.bIt("click",function(){r.eBV(t);const e=n.sdS(11);return r.Njj(e.click())}),n.EFF(5),n.nI1(6,"i18n"),n.k0s(),n.j41(7,"span"),n.EFF(8),n.nI1(9,"i18n"),n.k0s()(),n.j41(10,"input",5,0),n.bIt("change",function(i){return r.eBV(t),r.Njj(e.setSelectedFile(i))}),n.k0s(),n.j41(12,"bit-hint"),n.EFF(13),n.nI1(14,"i18n"),n.k0s()(),n.j41(15,"div",6)(16,"button",7),n.EFF(17),n.nI1(18,"i18n"),n.k0s(),n.DNE(19,w,3,4,"button",8),n.k0s()()}2&t&&(n.Y8G("formGroup",e.updateLicenseForm)("bitSubmit",e.submit),n.R7$(2),n.Y8G("ngIf",e.showAutomaticSyncAndManualUpload),n.R7$(3),n.SpI(" ",n.bMT(6,8,"chooseFile")," "),n.R7$(3),n.JRh(e.licenseFile?e.licenseFile.name:n.bMT(9,10,"noFileChosen")),n.R7$(5),n.JRh(n.i5U(14,12,"licenseFileDesc",e.organizationId?"bitwarden_organization_license.json":"bitwarden_premium_license.json")),n.R7$(4),n.SpI(" ",n.bMT(18,15,"submit")," "),n.R7$(2),n.Y8G("ngIf",e.showCancel))},dependencies:[b.bT,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,h.p,m.$,f.L,g.Q,v.j,F.I,I.J,y.h,S.$],encapsulation:2})},33438:(t,e,i)=>{var n;i.d(e,{Y:()=>n}),function(t){t.Updated="updated",t.Cancelled="cancelled"}(n||(n={}))},33895:(t,e,i)=>{i.d(e,{A:()=>$,W:()=>s});var n=i(51757);class o{}var s,a=i(81525),r=i(33812),c=i(12012),l=i(21274),u=i(69855),p=i(50700),d=i(11224),b=i(77468),h=i(26657),m=i(45154),f=i(56898),g=i(7730),v=i(68016),F=i(86226),I=i(93199),y=i(97553),S=i(43759),R=i(58806),k=i(88016),w=function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function a(t){try{c(n.next(t))}catch(e){s(e)}}function r(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,r)}c((n=n.apply(t,e||[])).next())})};function T(t,e){if(1&t&&(r.j41(0,"bit-hint")(1,"strong"),r.EFF(2),r.nI1(3,"i18n"),r.k0s(),r.EFF(4),r.nI1(5,"currency"),r.nI1(6,"currency"),r.nI1(7,"i18n"),r.k0s()),2&t){const t=r.XpG();r.R7$(2),r.JRh(r.bMT(3,5,"total")),r.R7$(2),r.LHq(" ",t.formGroup.value.storage," GB × ",r.i5U(5,7,t.price,"$")," = ",r.i5U(6,10,t.price*t.formGroup.value.storage,"$")," / ",r.bMT(7,13,t.cadence)," ")}}!function(t){t.Submitted="submitted",t.Closed="closed"}(s||(s={}));class ${constructor(t,e,i,a,r,c){switch(this.apiService=t,this.dialogParams=e,this.dialogRef=i,this.i18nService=a,this.organizationApiService=r,this.toastService=c,this.formGroup=new n.gE({storage:new n.MJ(0,[n.k0.required,n.k0.min(0),n.k0.max(99)])}),this.ResultType=s,this.submit=()=>w(this,void 0,void 0,function*(){const t=new o;switch(this.dialogParams.type){case"Add":t.storageGbAdjustment=this.formGroup.value.storage;break;case"Remove":t.storageGbAdjustment=-1*this.formGroup.value.storage}this.organizationId?yield this.organizationApiService.updateStorage(this.organizationId,t):yield this.apiService.postAccountStorage(t),this.toastService.showToast({variant:"success",title:null,message:this.i18nService.t("adjustedStorage",t.storageGbAdjustment.toString())}),this.dialogRef.close(this.ResultType.Submitted)}),this.price=this.dialogParams.price,this.cadence=this.dialogParams.cadence,this.organizationId=this.dialogParams.organizationId,this.dialogParams.type){case"Add":this.title=this.i18nService.t("addStorage"),this.body=this.i18nService.t("storageAddNote"),this.storageFieldLabel=this.i18nService.t("gbStorageAdd");break;case"Remove":this.title=this.i18nService.t("removeStorage"),this.body=this.i18nService.t("storageRemoveNote"),this.storageFieldLabel=this.i18nService.t("gbStorageRemove")}}}$.open=(t,e)=>t.open($,e),$.ɵfac=function(t){return new(t||$)(r.rXU(c.G),r.rXU(a.Qs),r.rXU(l.ce),r.rXU(p.W),r.rXU(d.X),r.rXU(u.f))},$.ɵcmp=r.VBU({type:$,selectors:[["ng-component"]],standalone:!1,decls:18,vars:13,consts:[[3,"formGroup","bitSubmit"],[3,"title"],["bitDialogContent",""],["bitTypography","body1"],[1,"tw-grid","tw-grid-cols-12"],[1,"tw-col-span-7"],["bitInput","","type","number","formControlName","storage"],[4,"ngIf"],["bitDialogFooter",""],["type","submit","bitButton","","bitFormButton","","buttonType","primary"],["type","button","bitButton","","bitFormButton","","buttonType","secondary",3,"bitDialogClose"]],template:function(t,e){1&t&&(r.j41(0,"form",0)(1,"bit-dialog",1),r.qex(2,2),r.j41(3,"p",3),r.EFF(4),r.k0s(),r.j41(5,"div",4)(6,"bit-form-field",5)(7,"bit-label"),r.EFF(8),r.k0s(),r.nrm(9,"input",6),r.DNE(10,T,8,15,"bit-hint",7),r.k0s()(),r.bVm(),r.qex(11,8),r.j41(12,"button",9),r.EFF(13),r.nI1(14,"i18n"),r.k0s(),r.j41(15,"button",10),r.EFF(16),r.nI1(17,"i18n"),r.k0s(),r.bVm(),r.k0s()()),2&t&&(r.Y8G("formGroup",e.formGroup)("bitSubmit",e.submit),r.R7$(),r.Y8G("title",e.title),r.R7$(3),r.JRh(e.body),r.R7$(4),r.JRh(e.storageFieldLabel),r.R7$(2),r.Y8G("ngIf","Add"===e.dialogParams.type),r.R7$(3),r.SpI(" ",r.bMT(14,9,"submit")," "),r.R7$(2),r.Y8G("bitDialogClose",e.ResultType.Closed),r.R7$(),r.SpI(" ",r.bMT(17,11,"cancel")," "))},dependencies:[b.bT,n.qT,n.me,n.Q0,n.BC,n.cb,n.j4,n.JD,h.$,m.L,f.Q,g.I,v.m,F.j,I.I,y.J,S.h,R.r,b.oe,k.$],encapsulation:2})},78650:(t,e,i)=>{i.d(e,{D:()=>M});var n=i(88083),o=i(33812),s=i(77468),a=i(54471),r=i(59032),c=i(88832),l=i(38410),u=i(22466),p=i(36572),d=i(58806),b=i(88016);const h=t=>({"text-strike":t});function m(t,e){1&t&&(o.j41(0,"p",5),o.EFF(1),o.nI1(2,"i18n"),o.k0s()),2&t&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"noUnpaidInvoices")," "))}function f(t,e){1&t&&(o.j41(0,"span"),o.nrm(1,"i",13),o.EFF(2),o.nI1(3,"i18n"),o.k0s()),2&t&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"paid")," "))}function g(t,e){1&t&&(o.j41(0,"span"),o.nrm(1,"i",14),o.EFF(2),o.nI1(3,"i18n"),o.k0s()),2&t&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"unpaid")," "))}function v(t,e){if(1&t&&(o.j41(0,"tr",7)(1,"td",8),o.EFF(2),o.nI1(3,"date"),o.k0s(),o.j41(4,"td",8)(5,"a",9),o.nI1(6,"i18n"),o.nrm(7,"i",10),o.k0s(),o.j41(8,"a",11),o.nI1(9,"i18n"),o.EFF(10),o.nI1(11,"i18n"),o.k0s()(),o.j41(12,"td",8),o.EFF(13),o.nI1(14,"currency"),o.k0s(),o.j41(15,"td",12),o.DNE(16,f,4,3,"span",3)(17,g,4,3,"span",3),o.k0s()()),2&t){const t=e.$implicit;o.R7$(2),o.JRh(o.i5U(3,13,t.date,"mediumDate")),o.R7$(3),o.Y8G("href",o.mNQ(t.pdfUrl),o.B4B)("appA11yTitle",o.mNQ(o.bMT(6,16,"downloadInvoice"))),o.R7$(3),o.Y8G("href",o.mNQ(t.url),o.B4B)("title",o.mNQ(o.bMT(9,18,"viewInvoice"))),o.R7$(2),o.SpI(" ",o.i5U(11,20,"invoiceNumber",t.number)),o.R7$(3),o.JRh(o.i5U(14,23,t.amount,"$")),o.R7$(3),o.Y8G("ngIf",t.paid),o.R7$(),o.Y8G("ngIf",!t.paid)}}function F(t,e){if(1&t&&o.DNE(0,v,18,26,"tr",6),2&t){const t=o.XpG();o.Y8G("ngForOf",t.openInvoices)}}function I(t,e){1&t&&(o.j41(0,"p",5),o.EFF(1),o.nI1(2,"i18n"),o.k0s()),2&t&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"noPaidInvoices")," "))}function y(t,e){1&t&&(o.j41(0,"span"),o.nrm(1,"i",13),o.EFF(2),o.nI1(3,"i18n"),o.k0s()),2&t&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"paid")," "))}function S(t,e){1&t&&(o.j41(0,"span"),o.nrm(1,"i",14),o.EFF(2),o.nI1(3,"i18n"),o.k0s()),2&t&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"unpaid")," "))}function R(t,e){if(1&t&&(o.j41(0,"tr",7)(1,"td",8),o.EFF(2),o.nI1(3,"date"),o.k0s(),o.j41(4,"td",8)(5,"a",9),o.nI1(6,"i18n"),o.nrm(7,"i",10),o.k0s(),o.j41(8,"a",11),o.nI1(9,"i18n"),o.EFF(10),o.nI1(11,"i18n"),o.k0s()(),o.j41(12,"td",8),o.EFF(13),o.nI1(14,"currency"),o.k0s(),o.j41(15,"td",12),o.DNE(16,y,4,3,"span",3)(17,S,4,3,"span",3),o.k0s()()),2&t){const t=e.$implicit;o.R7$(2),o.JRh(o.i5U(3,13,t.date,"mediumDate")),o.R7$(3),o.Y8G("href",o.mNQ(t.pdfUrl),o.B4B)("appA11yTitle",o.mNQ(o.bMT(6,16,"downloadInvoice"))),o.R7$(3),o.Y8G("href",o.mNQ(t.url),o.B4B)("title",o.mNQ(o.bMT(9,18,"viewInvoice"))),o.R7$(2),o.SpI(" ",o.i5U(11,20,"invoiceNumber",t.number)),o.R7$(3),o.JRh(o.i5U(14,23,t.amount,"$")),o.R7$(3),o.Y8G("ngIf",t.paid),o.R7$(),o.Y8G("ngIf",!t.paid)}}function k(t,e){if(1&t&&o.DNE(0,R,18,26,"tr",6),2&t){const t=o.XpG();o.Y8G("ngForOf",t.paidInvoices)}}function w(t,e){1&t&&(o.j41(0,"p",5),o.EFF(1),o.nI1(2,"i18n"),o.k0s()),2&t&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"noTransactions")," "))}function T(t,e){1&t&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"i18n"),o.k0s()),2&t&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"chargeNoun")," "))}function $(t,e){1&t&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"i18n"),o.k0s()),2&t&&(o.R7$(),o.JRh(o.bMT(2,1,"refundNoun")))}function j(t,e){if(1&t&&o.nrm(0,"i",17),2&t){const t=o.XpG().$implicit,e=o.XpG(3);o.Y8G("ngClass",e.paymentMethodClasses(t.paymentMethodType))}}function G(t,e){if(1&t&&(o.j41(0,"tr",7)(1,"td",8),o.EFF(2),o.nI1(3,"date"),o.k0s(),o.j41(4,"td",8),o.DNE(5,T,3,3,"span",3)(6,$,3,3,"span",3),o.k0s(),o.j41(7,"td",8),o.DNE(8,j,1,1,"i",15),o.EFF(9),o.k0s(),o.j41(10,"td",16),o.nI1(11,"i18n"),o.EFF(12),o.nI1(13,"currency"),o.k0s()()),2&t){const t=e.$implicit,i=o.XpG(3);o.R7$(2),o.JRh(o.i5U(3,9,t.createdDate,"mediumDate")),o.R7$(3),o.Y8G("ngIf",t.type===i.transactionType.Charge||t.type===i.transactionType.Credit),o.R7$(),o.Y8G("ngIf",t.type===i.transactionType.Refund),o.R7$(2),o.Y8G("ngIf",t.paymentMethodType),o.R7$(),o.SpI(" ",t.details," "),o.R7$(),o.Y8G("title",o.mNQ(o.bMT(11,12,t.refunded?"refunded":"")))("ngClass",o.eq3(17,h,t.refunded)),o.R7$(2),o.SpI(" ",o.i5U(13,14,t.amount,"$")," ")}}function E(t,e){if(1&t&&o.DNE(0,G,14,19,"tr",6),2&t){const t=o.XpG(2);o.Y8G("ngForOf",t.transactions)}}function U(t,e){1&t&&(o.j41(0,"bit-table"),o.DNE(1,E,1,1,"ng-template",2),o.k0s())}class M{constructor(){this.paymentMethodType=n.eq,this.transactionType=n.D_}paymentMethodClasses(t){switch(t){case n.eq.Card:return["bwi-credit-card"];case n.eq.BankAccount:case n.eq.WireTransfer:return["bwi-billing"];case n.eq.BitPay:return["bwi-bitcoin text-warning"];case n.eq.PayPal:return["bwi-paypal text-primary"];default:return[]}}}M.ɵfac=function(t){return new(t||M)},M.ɵcmp=o.VBU({type:M,selectors:[["app-billing-history"]],inputs:{openInvoices:"openInvoices",paidInvoices:"paidInvoices",transactions:"transactions"},standalone:!1,decls:25,vars:23,consts:[["bitTypography","h3"],["bitTypography","body1",4,"ngIf"],["body",""],[4,"ngIf"],[1,"tw-text-muted"],["bitTypography","body1"],["bitRow","",4,"ngFor","ngForOf"],["bitRow",""],["bitCell",""],["target","_blank","rel","noreferrer",1,"tw-mr-2",3,"href","appA11yTitle"],["aria-hidden","true",1,"bwi","bwi-file-text"],["bitLink","","target","_blank","rel","noreferrer",3,"href","title"],["bitCell","",1,"tw-w-28"],["aria-hidden","true",1,"bwi","bwi-check","tw-text-success"],["aria-hidden","true",1,"bwi","bwi-error","tw-text-muted"],["class","bwi bwi-fw","aria-hidden","true",3,"ngClass",4,"ngIf"],["bitCell","",3,"ngClass","title"],["aria-hidden","true",1,"bwi","bwi-fw",3,"ngClass"]],template:function(t,e){1&t&&(o.j41(0,"bit-section")(1,"h3",0),o.EFF(2),o.nI1(3,"i18n"),o.nI1(4,"i18n"),o.k0s(),o.DNE(5,m,3,3,"p",1),o.j41(6,"bit-table"),o.DNE(7,F,1,1,"ng-template",2),o.k0s()(),o.j41(8,"bit-section")(9,"h3",0),o.EFF(10),o.nI1(11,"i18n"),o.nI1(12,"i18n"),o.k0s(),o.DNE(13,I,3,3,"p",1),o.j41(14,"bit-table"),o.DNE(15,k,1,1,"ng-template",2),o.k0s()(),o.j41(16,"bit-section")(17,"h3",0),o.EFF(18),o.nI1(19,"i18n"),o.k0s(),o.DNE(20,w,3,3,"p",1)(21,U,2,0,"bit-table",3),o.j41(22,"small",4),o.EFF(23),o.nI1(24,"i18n"),o.k0s()()),2&t&&(o.R7$(2),o.Lme("",o.bMT(3,10,"unpaid")," ",o.bMT(4,12,"invoices")),o.R7$(3),o.Y8G("ngIf",!e.openInvoices||!e.openInvoices.length),o.R7$(5),o.Lme("",o.bMT(11,14,"paid")," ",o.bMT(12,16,"invoices")),o.R7$(3),o.Y8G("ngIf",!e.paidInvoices||!e.paidInvoices.length),o.R7$(5),o.JRh(o.bMT(19,18,"transactions")),o.R7$(2),o.Y8G("ngIf",!e.transactions||!e.transactions.length),o.R7$(),o.Y8G("ngIf",e.transactions&&e.transactions.length),o.R7$(2),o.SpI("* ",o.i5U(24,20,"chargesStatement","BITWARDEN")))},dependencies:[s.YU,s.Sq,s.bT,a.C,r.L,c.n,l.Q,u.Y,p._,p.O,d.r,s.oe,s.vh,b.$],encapsulation:2})},97062:(t,e,i)=>{i.d(e,{GM:()=>T,vD:()=>n});var n,o=i(51757),s=i(88083),a=i(81525),r=i(33812),c=i(69855),l=i(21274),u=i(48180),p=i(50700),d=i(37115),b=i(77468),h=i(26657),m=i(45154),f=i(56898),g=i(7730),v=i(68016),F=i(86226),I=i(93199),y=i(97553),S=i(43759),R=i(88016),k=function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function a(t){try{c(n.next(t))}catch(e){s(e)}}function r(t){try{c(n.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,r)}c((n=n.apply(t,e||[])).next())})};function w(t,e){if(1&t&&(r.j41(0,"option",9),r.EFF(1),r.k0s()),2&t){const t=e.$implicit;r.Y8G("ngValue",t.value),r.R7$(),r.SpI(" ",t.text," ")}}!function(t){t.Closed="closed",t.Submitted="submitted"}(n||(n={}));const T=(t,e)=>t.open($,e);class ${constructor(t,e,i,s,a,r,c){this.dialogParams=t,this.dialogRef=e,this.formBuilder=i,this.billingApiService=s,this.i18nService=a,this.platformUtilsService=r,this.toastService=c,this.ResultType=n,this.MaxFeedbackLength=400,this.reasons=[],this.formGroup=this.formBuilder.group({reason:[null,[o.k0.required]],feedback:["",[o.k0.maxLength(this.MaxFeedbackLength)]]}),this.submit=()=>k(this,void 0,void 0,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;const t={reason:this.formGroup.value.reason,feedback:this.formGroup.value.feedback};"Organization"===this.dialogParams.type?yield this.billingApiService.cancelOrganizationSubscription(this.dialogParams.id,t):yield this.billingApiService.cancelPremiumUserSubscription(t),this.toastService.showToast({variant:"success",title:null,message:this.i18nService.t("canceledSubscription")}),this.dialogRef.close(this.ResultType.Submitted)}),this.reasons=[{value:null,text:this.i18nService.t("selectPlaceholder")},{value:"missing_features",text:this.i18nService.t("missingFeatures")},{value:"switched_service",text:this.i18nService.t("movingToAnotherTool")},{value:"too_complex",text:this.i18nService.t("tooDifficultToUse")},{value:"unused",text:this.i18nService.t("notUsingEnough")},this.getSwitchingReason(),{value:"other",text:this.i18nService.t("other")}]}getSwitchingReason(){if("User"===this.dialogParams.type)return{value:"too_expensive",text:this.i18nService.t("switchToFreePlan")};const t=[s.OL.FamiliesAnnually,s.OL.FamiliesAnnually2019,s.OL.FamiliesAnnually2025].includes(this.dialogParams.plan);return{value:"too_expensive",text:this.i18nService.t(t?"switchToFreeOrg":"tooExpensive")}}}$.ɵfac=function(t){return new(t||$)(r.rXU(a.Qs),r.rXU(l.ce),r.rXU(o.ok),r.rXU(u.P),r.rXU(p.W),r.rXU(d.y),r.rXU(c.f))},$.ɵcmp=r.VBU({type:$,selectors:[["app-cancel-subscription-form"]],standalone:!1,decls:30,vars:27,consts:[[3,"formGroup","bitSubmit"],["bitDialogTitle","",1,"tw-font-medium"],["bitDialogContent",""],["bitInput","","formControlName","reason"],[3,"ngValue",4,"ngFor","ngForOf"],["rows","4","bitInput","","formControlName","feedback"],["bitDialogFooter",""],["bitButton","","bitFormButton","","buttonType","primary","type","submit"],["bitButton","","buttonType","secondary","type","button",3,"bitDialogClose"],[3,"ngValue"]],template:function(t,e){var i;1&t&&(r.j41(0,"form",0)(1,"bit-dialog")(2,"span",1),r.EFF(3),r.nI1(4,"i18n"),r.k0s(),r.j41(5,"div",2)(6,"p"),r.EFF(7),r.nI1(8,"i18n"),r.k0s(),r.j41(9,"bit-form-field")(10,"bit-label"),r.EFF(11),r.nI1(12,"i18n"),r.k0s(),r.j41(13,"select",3),r.DNE(14,w,2,2,"option",4),r.k0s()(),r.j41(15,"bit-form-field")(16,"bit-label"),r.EFF(17),r.nI1(18,"i18n"),r.k0s(),r.nrm(19,"textarea",5),r.j41(20,"bit-hint"),r.EFF(21),r.nI1(22,"i18n"),r.k0s()()(),r.qex(23,6),r.j41(24,"button",7),r.EFF(25),r.nI1(26,"i18n"),r.k0s(),r.j41(27,"button",8),r.EFF(28),r.nI1(29,"i18n"),r.k0s(),r.bVm(),r.k0s()()),2&t&&(r.Y8G("formGroup",e.formGroup)("bitSubmit",e.submit),r.R7$(3),r.SpI(" ",r.bMT(4,11,"cancelSubscription")," "),r.R7$(4),r.JRh(r.bMT(8,13,"sorryToSeeYouGo")),r.R7$(4),r.SpI(" ",r.bMT(12,15,"selectCancellationReason")," "),r.R7$(3),r.Y8G("ngForOf",e.reasons),r.R7$(3),r.SpI(" ",r.bMT(18,17,"anyOtherFeedback")," "),r.R7$(4),r.JRh(r.brH(22,19,"charactersCurrentAndMaximum",null!==(i=null==e.formGroup.value.feedback?null:e.formGroup.value.feedback.length)&&void 0!==i?i:0,e.MaxFeedbackLength)),r.R7$(4),r.SpI(" ",r.bMT(26,23,"cancelSubscription")," "),r.R7$(2),r.Y8G("bitDialogClose",e.ResultType.Closed),r.R7$(),r.SpI(" ",r.bMT(29,25,"close")," "))},dependencies:[b.Sq,o.qT,o.xH,o.y7,o.me,o.wz,o.BC,o.cb,o.j4,o.JD,h.$,m.L,f.Q,g.I,v.m,F.j,I.I,y.J,S.h,R.$],encapsulation:2,changeDetection:0})}}]);
//# sourceMappingURL=281.7b08cb8ad5fa80c3817b.js.map